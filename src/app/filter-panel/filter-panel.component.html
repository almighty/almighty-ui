
<detail-add-type-selector #typeSelectPanel></detail-add-type-selector>
<!-- filter area -->
<header>
  <div class="flex-container flex-grow-1 in-column-direction">
    <div class="toolbar-pf">
      <div class="toolbar-pf-actions">
        <!--Filter-->
        <div class="form-group toolbar-pf-filter">
          <label class="sr-only" for="filterwitype">Filter</label>
          <div class="input-group">
            <div class="input-group-btn" dropdown>
              <button class="btn btn-default" type="button" id="wi_filter_dropdown" data-toggle="dropdown" dropdownToggle>
                <span>User</span>
                <span class="caret" ></span>
              </button>
              <ul role="menu" aria-labelledby="wi_filter_dropdown" dropdownMenu>
                <li *ngIf="!filters.length">
                  <span>No filters available</span>
                </li>
                <li *ngFor="let filter of filters;" role="presentation">
                  <a role="menuitem" tabindex="-1" class="pointer">User</a>
                  <!-- Manually put User as not sure about this list -->
                </li>
              </ul>
            </div>
            <div dropdown class="wi-input-filter-dropdown">
              <div dropdownToggle>
                <input type="text" class="form-control" id="filterwitype" placeholder="Filter By Assignee...">
                <span class="caret"></span>
              </div>
              <ul class="wi-input-filter-dropdown-list" role="menu" aria-labelledby="filterwitype" dropdownMenu>
                <li *ngIf="!filters.length">
                  <span>No filters available</span>
                </li>
                <li *ngFor="let filter of filters;" role="presentation" (click)="activeFilter(filter.id)">
                  <a role="menuitem" tabindex="-1" class="pointer">{{filter.name}}</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!--Move a work item up / down -->
        <div class="form-group">
          <div class="dropdown move-dropdown" dropdown>
            <button class="btn btn-default" type="button" id="wi_filter_dropdown" data-toggle="dropdown" dropdownToggle>
              Move
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu-left" role="menu" aria-labelledby="wi_filter_dropdown" dropdownMenu>
              <li>
                <a role="menuitem" tabindex="-1" (click)="moveItem('top')">Move to Top</a>
              </li>
              <li>
                <a role="menuitem" tabindex="-1" (click)="moveItem('bottom')">Move to Bottom</a>
              </li>
              <li role="presentation" class="divider"></li>
              <li>
                <a role="menuitem" tabindex="-1" (click)="moveItem('up')">Move Up</a>
              </li>
              <li>
                <a role="menuitem" tabindex="-1" (click)="moveItem('down')">Move Down</a>
              </li>
            </ul>
          </div>
        </div>
        <!-- ADD a Work Item FAB -->
        <div class="toolbar-pf-action-right">
          <div *ngIf="loggedIn && editEnabled" class="with-cursor-pointer" tooltipPlacement="bottom" tooltip="Add A Work Item" (click)="typeSelectPanel.openPanel()">
            <i class="pficon pficon-add-circle-o margin-top-4"></i>
          </div>
        </div>
      </div>
      <div class="row toolbar-pf-results" [ngClass]="{'show' : (filters | almArrayFilter:{active: true}).length , 'hide' : !(filters | almArrayFilter:{active: true}).length}">
        <div class="col-sm-12" #activeFiltersDiv>
          <ul class="list-inline">
            <li #activeFilters *ngFor="let filter of filters | almArrayFilter:{active: true};">
              <span class="label label-info">{{filter.name}}
                <i (click)="deactiveFilter(filter.id)" class="pficon pficon-close with-cursor-pointer"></i>
              </span>
            </li>
          </ul>
          <p>
            <a class="with-cursor-pointer" (click)="deactiveAllFilters()" *ngIf="(filters | almArrayFilter:{active: true}).length">
              Clear All Filters
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</header>
